<div class="container">
  <h2>Estoque de Camisas</h2>
  <div class="header-actions">
    <!-- campo de busca -->
    <mat-form-field appearance="outline" class="campo-busca">
      <mat-label>Pesquisar modelo de camisa...</mat-label>
      <input matInput (keyup)="aplicarFiltro($event)" placeholder="Ex: Polo">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    <!-- botão de adicionar -->
    <button mat-fab color="primary" (click)="adicionar()" aria-label="Adicionar">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <div class="tabela-container mat-elevation-z8">
    <!-- tabela de camisas -->
    <table mat-table [dataSource]="dataSource">

      <ng-container matColumnDef="imagem">
        <th mat-header-cell *matHeaderCellDef> Foto </th>
        <td mat-cell *matCellDef="let camisa">
          <img [src]="camisa.imagem" [alt]="camisa.nome" class="thumb-camisa">
        </td>
      </ng-container>

      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef> Modelo </th>
        <td mat-cell *matCellDef="let camisa"> {{camisa.nome}} </td>
      </ng-container>

      <ng-container matColumnDef="categoria">
        <th mat-header-cell *matHeaderCellDef> Categoria </th>
        <td mat-cell *matCellDef="let camisa">
          <span class="badge">{{camisa.categoria}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="preco">
        <th mat-header-cell *matHeaderCellDef> Preço </th>
        <td mat-cell *matCellDef="let camisa">
          {{camisa.preco | currency:'BRL'}}
        </td>
      </ng-container>

      <ng-container matColumnDef="acoes">
        <th mat-header-cell *matHeaderCellDef> Ações </th>
        <td mat-cell *matCellDef="let camisa">
          <button mat-icon-button color="primary" (click)="editar(camisa.id)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="deletar(camisa.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- usando o array em lista-camisas.ts displayedColumns = ['imagem', 'nome', 'categoria', 'preco', 'acoes']; -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> <!-- cabeçalho da tabela -->
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr> <!-- linhas com dados da tabela -->

      <!-- mensagem quando não acha nada no filtro -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="5" style="text-align: center; padding: 20px;">
          Nenhuma camisa encontrada com este nome.
        </td>
      </tr>
    </table>

    <!-- paginador -->
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>
